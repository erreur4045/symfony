{% extends 'base.html.twig' %}

{% block title %}Editer votre figure!{% endblock %}

{% block body %}
    {% if is_granted('ROLE_USER') %}
        <div class="container-fluid">
            {% for flash_message in app.session.flashBag.get('success') %}
                <div class="alert alert-success">
                    {{ flash_message }}
                </div>
            {% endfor %}
            <div class="row">
                <img class="imagebackgroundtrick"
                     src="{{ asset('uploads/image_for_design/3557.jpg ') }}"
                     alt="image de font deux snowbordeurs">
            </div>
        </div>
        <div class="container">
        <div class="d-flex justify-content-center">
            <div class="container trickblock">
                <div class="row">
                    <div class="col-12">
                        {% for pictureslinks in figure.pictureslinks %}
                            {% if pictureslinks.firstimage == true %}
                                <div class="text-center img_first_trick">
                                    <img src="{{ asset('uploads/figureimage/') ~ pictureslinks.linkpictures }}"
                                         class="rounded mt-4 img-fluid"
                                         alt="">
                                    <div class="centered">{{ figure.name }}</div>
                                    {% if app.user %}
                                        <div class="box_buttons_edit_delete">
                                            {{ include('block_for_include/modal_delete_picture.html.twig') }}
                                            <button type="button" class="btn btn-primary" data-toggle="modal"
                                                    data-target="#exampleModal{{ pictureslinks.id }}">
                                                <i class="material-icons">delete_sweep</i>
                                            </button>
                                            <button type="button" class="btn btn-outline-primary"><a
                                                        href="{{ path('update.picture', {id: pictureslinks.id}) }}"><i
                                                            class="material-icons">create</i></a>
                                            </button>
                                        </div>
                                    {% endif %}
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="container media_list">
                        <h1 class="text-center">Autres m√©dias</h1>
                        <div class="MultiCarousel" data-items="1,3,5,6" data-slide="1" id="MultiCarousel"
                             data-interval="1000">
                            <div class="MultiCarousel-inner">
                                {% for pictureslinks in figure.pictureslinks %}
                                    {% if pictureslinks.firstimage == false %}
                                        <div class="item">
                                            <div class="pad15">
                                                <img src="{{ asset('uploads/figureimage/') ~ pictureslinks.linkpictures }}"
                                                     class="rounded mt-4 imgtrick"
                                                     alt="">
                                            </div>
                                            {{ include('block_for_include/modal_delete_picture.html.twig') }}
                                            <button type="button" class="btn btn-primary" data-toggle="modal"
                                                    data-target="#exampleModal{{ pictureslinks.id }}">
                                                <i class="material-icons">delete_sweep</i>
                                            </button>
                                            <button type="button" class="btn btn-outline-primary"><a
                                                        href="{{ path('update.picture', {id: pictureslinks.id}) }}"><i
                                                            class="material-icons">create</i></a>
                                            </button>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                                {% for video in figure.videolinks %}
                                    <div class="item">
                                        <div class="pad15">
                                            <iframe class="embed-responsive-item rounded mt-4 imgtrick"
                                                    src="{{ video.linkvideo }}"
                                                    allowfullscreen style="width: 10em; height: 10em"></iframe>
                                        </div>
                                        {{ include('block_for_include/modal_delete_video.html.twig') }}
                                        <button type="button" class="btn btn-primary" data-toggle="modal"
                                                data-target="#video{{ video.id }}">
                                            <i class="material-icons">delete_sweep</i>
                                        </button>
                                        <button type="button" class="btn btn-outline-primary"><a
                                                    href="{{ path('update.video', {id: video.id}) }}"><i
                                                        class="material-icons">create</i></a>
                                        </button>
                                    </div>
                                {% endfor %}
                            </div>
                            <button class="btn btn-primary leftLst"><</button>
                            <button class="btn btn-primary rightLst">></button>
                        </div>
                        </div>
                        <div class="container media_list">
                        {{ form_start(form) }}
                        <div class="d-flex flex-wrap">
                            <div class="col-md-6 h3">{{ form_row(form.name) }}</div>
                            <div class="col-md-6 h3">{{ form_row(form.idfiguregroup) }}</div>
                        </div>
                        <div class="col-md-12 h3">
                            {{ form_row(form.description) }}
                        </div>
                        <div class="d-flex justify-content-center">
                            <button class="btn btn-primary m-1">Sauvegarder</button>
                        </div>
                        {{ form_end(form) }}
                    </div>
                    </div>
                </div>
            </div>
        </div>
    {% else %}
        {{ include('block_for_include/access_denied.html.twig') }}
    {% endif %}
{% endblock %}